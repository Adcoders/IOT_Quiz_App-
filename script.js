const quizData = {
  // <!-------------------------------------------- WEEK 1---------------------------------------------------------->
  "Week 1": [
    {
      question: "IoT stands for ____________.",
      options: [
        "Internet of Tasks",
        "Internet of Tuples",
        "Internet of Things",
        "None of these",
      ],
      answer: "Internet of Things",
    },
    {
      question:
        "Which of the following technologies have unified and has resulted in the evolution of IoT?",
      options: [
        "High-power embedded systems",
        "Super Computing",
        "Engine Technology",
        "None of these",
      ],
      answer: "None of these",
    },
    {
      question: "Which of the following are the enablers of IoT?",
      options: ["RFID", "Nanotechnology", "Sensors", "All of these"],
      answer: "All of these",
    },
    {
      question: "Which of the following is NOT a function of an IoT LAN?",
      options: [
        "Long range communication, global",
        "World wide connections",
        "Both (a) and (b)",
        "Neither (a) Nor (b)",
      ],
      answer: "Both (a) and (b)",
    },
    {
      question:
        "The integration of existing devices, smart devices, and constrained nodes in a singular framework is one of the reasons for the address crunch in IoT.",
      options: ["True", "False"],
      answer: "True",
    },
    {
      question:
        "In Multi-homing, a node/network is connected to a single network for improved reliability.",
      options: ["True", "False"],
      answer: "False",
    },
    {
      question:
        "Which of the following is/are the approach/approaches for multi-homing?",
      options: [
        "Proxy-based approach",
        "Gateway-based approach",
        "Both (a) and (b)",
        "None of these",
      ],
      answer: "Both (a) and (b)",
    },
    {
      question: "IPv6 uses ____________ notation for its representation.",
      options: ["Hexadecimal", "Binary", "Decimal", "None of these"],
      answer: "Hexadecimal",
    },
    {
      question:
        "The parameters sensed by a sensor may be sent to the cloud for further processing.",
      options: ["False", "True"],
      answer: "True",
    },
    {
      question:
        "The IPv6 notation uses ___________________ number of bits to represent an address.",
      options: ["64", "128", "Both (a) and (b)", "Neither (a) nor (b)"],
      answer: "128",
    },
    {
      question: "A sensor is -",
      options: [
        "Only sensitive to the measured property",
        "Insensitive to any other property that what the sensor is made to sense",
        "Both (a) and (b)",
        "None of these",
      ],
      answer: "Both (a) and (b)",
    },
    {
      question: "We classify sensors based on -",
      options: ["Output", "Data type", "Both (a) and (b)", "None of these"],
      answer: "Both (a) and (b)",
    },
    {
      question: "Which of the following is a correct statement?",
      options: [
        "Controlling AC loads using low DC signals",
        "Relays are electromechanical",
        "Relays are actuators",
        "All of these",
      ],
      answer: "All of these",
    },
    {
      question:
        "Based on the output, sensors are classified as ____________________.",
      options: ["Analog", "Digital", "Both (a) and (b)", "Neither (a) nor (b)"],
      answer: "Both (a) and (b)",
    },
    {
      question: "Soft actuators are -",
      options: [
        "Polymer-based",
        "Mechanical",
        "Electromechanical",
        "None of these",
      ],
      answer: "Polymer-based",
    },
  ],
  // <!-------------------------------------------- WEEK 2---------------------------------------------------------->
  "Week 2": [
    {
      question: "Based on functionality, MQTT is a _______ protocol.",
      options: ["Transport", "Data", "Semantic", "None of these"],
      answer: "Data",
    },
    {
      question: "MQTT is designed for -",
      options: [
        "Remote connections",
        "Limited bandwidth",
        "Both (a) and (b)",
        "Neither (a) nor (b)",
      ],
      answer: "Both (a) and (b)",
    },
    {
      question:
        "MQTT protocol follows _____________ paradigm for exchanging messages.",
      options: [
        "Client-Server",
        "Publish-Subscribe",
        "Both (a) and (b)",
        "None of these",
      ],
      answer: "Publish-Subscribe",
    },
    {
      question:
        "State True or False. Statement: “In MQTT, the Subscribers are Lightweight Sensors.”",
      options: ["True", "False"],
      answer: "False",
    },
    {
      question: "Which of the following is MQTT component?",
      options: ["Middleman", "Mules", "Both (a) and (b)", "None of these"],
      answer: "None of these",
    },
    {
      question: "State True or False. A topic in MQTT can only be numbers.",
      options: ["False", "True"],
      answer: "False",
    },
    {
      question:
        "State True or False. There are only two methods specified by the MQTT protocol.",
      options: ["False", "True"],
      answer: "False",
    },
    {
      question:
        "The Publish/Subscribe architecture in MQTT is __________ driven.",
      options: ["Event", "Pulse", "Sound", "None of these"],
      answer: "Event",
    },
    {
      question:
        "State True or False. The topic is the routing information for the broker.",
      options: ["True", "False"],
      answer: "True",
    },
    {
      question: "CoAP is _____________ and ____________.",
      options: [
        "Based on HTTP",
        "Is designed for M2M applications",
        "None of these",
        "Both (a) and (b)",
      ],
      answer: "Both (a) and (b)",
    },
    {
      question:
        "In CoAP, client-server interaction is asynchronous over a datagram transport protocol such as ____________.",
      options: ["UDP", "TCP", "IP", "XMP"],
      answer: "UDP",
    },
    {
      question: "What is the full form of AMQP?",
      options: [
        "Advanced Message Querying Protocol",
        "Advanced Message Quality Protocol",
        "Advanced Message Queuing Protocol",
        "None of these",
      ],
      answer: "Advanced Message Queuing Protocol",
    },
    {
      question: "AMQP has _______ number of frame types.",
      options: ["6", "3", "5", "9"],
      answer: "9",
    },
    {
      question: "State True or False. Statement: “The OSI model has 7 layers.”",
      options: ["True", "False"],
      answer: "True",
    },
    {
      question:
        "The “Destination Address” in the IPv4 packet represents which of the following?",
      options: [
        "The source node address of the packet",
        "The intermediate hop in the network",
        "Both (a) and (b)",
        "Neither (a) nor (b)",
      ],
      answer: "Neither (a) nor (b)",
    },
  ],
  // <!-------------------------------------------- WEEK 3---------------------------------------------------------->
  "Week 3": [
    {
      question:
        "WirelessHART is the latest release of Highway Addressable Remote Transducer protocol.",
      options: ["True", "False"],
      answer: "True",
    },
    {
      question: "Wired HART has a network layer.",
      options: ["True", "False"],
      answer: "False",
    },
    {
      question:
        "WirelessHART physical layer is derived from 802.15.2 protocol.",
      options: ["False", "True"],
      answer: "False",
    },
    {
      question: "WirelessHART operates only in __________ GHz ISM band.",
      options: ["3.7", "4.8", "4.8", "2.4"],
      answer: "2.4",
    },
    {
      question:
        "HART standard was developed from _____________ smart field devices.",
      options: ["amplified", "diminished", "isolated", "networked"],
      answer: "networked",
    },
    {
      question:
        "Main difference between wired and unwired versions is in the physical, data link, and ______ layers.",
      options: ["Data link", "Network", "Transport", "None of these"],
      answer: "Network",
    },
    {
      question:
        "Collision free and deterministic communication is achieved in HART’s data link layer.",
      options: ["True", "False"],
      answer: "True",
    },
    {
      question: "Channel hopping is incorporated in which layer of HART?",
      options: [
        "Data link layer",
        "Physical layer",
        "Application layer",
        "Transport layer",
      ],
      answer: "Data link layer",
    },
    {
      question:
        "The HART application layer is responsible for extracting commands from a message, executing it and generating responses.",
      options: ["True", "False"],
      answer: "True",
    },
    {
      question:
        "NFC is designed for use by devices within ________________ to each other.",
      options: [
        "Anywhere on the globe",
        "A small building",
        "Both (a) and (b)",
        "None of these",
      ],
      answer: "None of these",
    },
    {
      question:
        "Passive NFC devices ___________ information which is _____________ by other devices.",
      options: [
        "contain, read",
        "read, contain",
        "contain, contain",
        "None of these",
      ],
      answer: "contain, read",
    },
    {
      question: "NFC devices work on the principle of magnetic induction.",
      options: ["True", "False"],
      answer: "True",
    },
    {
      question: "Bluetooth technology is based on _________________.",
      options: ["HART", "ZigBee", "All of these", "None of these"],
      answer: "None of these",
    },
    {
      question:
        "The Link Manager Protocol in Bluetooth manages the only establishment and authentication.",
      options: ["True", "False"],
      answer: "False",
    },
    {
      question: "Zigbee commonly uses __________ data rate.",
      options: ["260 bps", "260 kbps", "260 Mbps", "None of these"],
      answer: "None of these",
    },
  ],
  // <!-------------------------------------------- WEEK 4---------------------------------------------------------->
  "Week 4": [
    {
      question:
        "In “AID”, a set of sensor nodes are deployed over an agricultural field.",
      options: ["True", "False"],
      answer: "True",
    },
    {
      question:
        "Ultrasonic sensor senses the distance at which an object is located.",
      options: ["True", "False"],
      answer: "True",
    },
    {
      question:
        "In case of static sensors, where to deploy and/or activate sensors in WSN is a coverage problem.",
      options: ["True", "False"],
      answer: "True",
    },
    {
      question:
        "Objective of coverage in WSN is to use maximum number of sensors and minimize network lifetime.",
      options: ["True", "False"],
      answer: "False",
    },
    {
      question:
        "A crossing is covered if it is in the interior of at least one node’s coverage disk.",
      options: ["True", "False"],
      answer: "True",
    },
    {
      question:
        "Which of the following is/are correct for stationary wireless sensor networks.",
      options: [
        "Topology cannot be changed automatically.",
        "Node failure may result in partition of networks.",
        "Both (a) and (b)",
        "None of these",
      ],
      answer: "Both (a) and (b)",
    },
    {
      question: "Most problems in static WSN can be classified as -",
      options: [
        "No coverage",
        "More coverage",
        "Both (a) and (b)",
        "None of these",
      ],
      answer: "None of these",
    },
    {
      question:
        "Which of the following is/are correct with respect to UAV networks?",
      options: [
        "Multi-tasking",
        "Large coverage area",
        "Both (a) and (b)",
        "None of these",
      ],
      answer: "Both (a) and (b)",
    },
    {
      question: "UAV networks are scalable.",
      options: ["True", "False"],
      answer: "True",
    },
    {
      question: "In Mobile WSN, the Data Mules",
      options: [
        "Collect the data from sensor nodes",
        "Goes to the sink and delivers the collected data",
        "Both (a) and (b)",
        "Neither (a) nor (b)",
      ],
      answer: "Both (a) and (b)",
    },
    {
      question: "The full form of AUV is -",
      options: [
        "Antenna Used Vehicle",
        "Autonomous Underwater Vehicle",
        "Both (a) and (b)",
        "Neither (a) nor (b)",
      ],
      answer: "Autonomous Underwater Vehicle",
    },
    {
      question:
        "Humans carry their devices and move around. Sensors embedded within the devices record readings. Sensory readings are then transmitted for processing. This paradigm of sensing is known as –",
      options: [
        "Machine Centric Sensing",
        "Device Centric Sensing",
        "Human Centric Sensing",
        "None of these",
      ],
      answer: "Human Centric Sensing",
    },
    {
      question:
        "Energy of Devices and Participant selection are not two major problems in Human Centric Sensing.",
      options: ["True", "False"],
      answer: "False",
    },
    {
      question:
        "Which of the following network topologies is used in UAV networks?",
      options: ["Bus", "Star", "Both (a) and (b)", "Neither (a) nor (b)"],
      answer: "Star",
    },
    {
      question:
        "The M2M Application Platform provides integrated services based on device collected data-sets.",
      options: ["True", "False"],
      answer: "True",
    },
  ],
  // <!----------------------------------------------------- WEEK 5---------------------------------------------------------->
  "Week 5": [
    {
      question: "Which of the following is/are current challenges in IoT?",
      options: [
        "a. Large scale of co-operation",
        "b. Global heterogeneity",
        "c. Both (a) and (b)",
        "d. Neither (a) nor (b)",
      ],
      answer: "c. Both (a) and (b)",
    },
    {
      question:
        "Statement: “Interoperability is not a characteristic of a product or system.”",
      options: ["a. True", "b. False"],
      answer: "b. False",
    },
    {
      question: "Interoperability is required because",
      options: [
        "a. There are different programming languages",
        "b. There are different communication protocols",
        "c. Both (a) and (b)",
        "d. Neither (a) nor (b)",
      ],
      answer: "c. Both (a) and (b)",
    },
    {
      question:
        "Statement: “Use of different programming languages such as JavaScript, Python, JAVA, and others is an example of heterogeneity in IoT. This brings in the need for interoperability.”",
      options: ["a. False", "b. True"],
      answer: "b. True",
    },
    {
      question:
        "Statement: “The interoperability between devices and device users in terms of message formats is called Systematic Interoperability.”",
      options: ["a. True", "b. False"],
      answer: "b. False",
    },
    {
      question: "What is the full form of UMB in IoT interoperability?",
      options: [
        "a. Universal Meta Bridge",
        "b. Universal Main Bridge",
        "c. Universal Main Bracket",
        "d. None of these",
      ],
      answer: "d. None of these",
    },
    {
      question: "Arduino is an open-source electronic programmable board.",
      options: ["a. True", "b. False"],
      answer: "a. True",
    },
    {
      question:
        "Additional electronic circuits are essential to load a program into the Arduino controller board.",
      options: ["a. True", "b. False"],
      answer: "b. False",
    },
    {
      question: "Arduino UNO has _________ number of Digital I/O pins.",
      options: ["a. 8", "b. 13", "c. 14", "d. None of these"],
      answer: "c. 14",
    },
    {
      question:
        "What does the following code do?\n\n\tint ledPin = 13;\nvoid setup() {\npinMode(ledPin, OUTPUT);\nfor (int i = 0; i < 3; i++) {\ndigitalWrite(ledPin, HIGH);\ndelay(1000);\ndigitalWrite(ledPin, LOW);\ndelay(500);\n}\n}\nvoid loop() {\n// Do nothing\n}",
      options: [
        "a) Blink 3 times with 1000ms ON and 500ms OFF",
        "b) Blink 3 times with 500ms ON and 500ms OFF",
        "c) Blink 3 times with 1000ms ON and 1000ms OFF",
        "d) Stay ON continuously",
      ],
      answer: "a) Blink 3 times with 1000ms ON and 500ms OFF",
    },
    {
      question: "How many types of loops will you find in Arduino Programming?",
      options: ["a. 1", "b. 2", "c. 3", "d. 4"],
      answer: "c. 3",
    },
    {
      question: "Choose the right option for if/conditional operator.",
      options: [
        "a. Val = (condition)?(Statement 1):(Statement 2)",
        "b. Val = (condition)?(Statement 2):(Statement 1)",
        "c. Val = (condition):(Statement 1)?(Statement 2)",
        "d. Val = (condition):(Statement 2)?(Statement 1)",
      ],
      answer: "a. Val = (condition)?(Statement 1):(Statement 2)",
    },
    {
      question:
        "What is the purpose of calling dht.begin(); in the setup() function?",
      options: [
        "A) To initialize the Serial Monitor",
        "B) To start communication with the DHT sensor",
        "C) To set the temperature and humidity values to zero",
        "D) To define the data pin for the sensor",
      ],
      answer: "B) To start communication with the DHT sensor",
    },
    {
      question:
        "What function is used to read the humidity value from the DHT sensor?",
      options: [
        "A) dht.getHumidity();",
        "B) dht.readTemp();",
        "C) dht.readHumidity();",
        "D) dht.getTemperature();",
      ],
      answer: "C) dht.readHumidity();",
    },
    {
      question:
        "What function is used to set the servo motor to a specific angle?",
      options: [
        "A) ServoDemo.move()",
        "B) ServoDemo.rotate()",
        "C) ServoDemo.write()",
        "D) ServoDemo.setAngle()",
      ],
      answer: "C) ServoDemo.write()",
    },
  ],
  // <!-------------------------------------------- WEEK 6---------------------------------------------------------->
  "Week 6": [],
  // <!-------------------------------------------- WEEK 7---------------------------------------------------------->
  "Week 7": [],
  // <!-------------------------------------------- WEEK 8---------------------------------------------------------->
  "Week 8": [],
  // <!-------------------------------------------- WEEK 9---------------------------------------------------------->
  "Week 9": [],
  // <!-------------------------------------------- WEEK 10---------------------------------------------------------->
  "Week 10": [],
  // <!-------------------------------------------- WEEK 11---------------------------------------------------------->
  "Week 11": [],
  // <!-------------------------------------------- WEEK 12---------------------------------------------------------->
  "Week 12": [],
};

const weekList = document.getElementById("weekList");
const questionsDiv = document.getElementById("questions");
const weekTitle = document.getElementById("weekTitle");

Object.keys(quizData).forEach((week) => {
  const li = document.createElement("li");
  li.textContent = week;
  li.onclick = () => loadQuestions(week);
  weekList.appendChild(li);
});

function loadQuestions(week) {
  weekTitle.textContent = week;
  questionsDiv.innerHTML = "";

  if (quizData[week].length === 0) {
    questionsDiv.innerHTML = "<p>No questions available for this week.</p>";
    return;
  }

  quizData[week].forEach((item, index) => {
    const questionDiv = document.createElement("div");
    questionDiv.className = "question";

    let optionsHtml = item.options
      .map(
        (option) => `
                    <li>
                        <label>
                            <input type="radio" name="q${index}" value="${option}"> ${option}
                        </label>
                    </li>`
      )
      .join("");

    questionDiv.innerHTML = `
                <strong>Q${index + 1}:</strong> ${item.question}
                <ul>${optionsHtml}</ul>
                <button onclick="showAnswer(${index})">Show Answer</button>
                <p class="answer" id="answer${index}"></p>`;

    questionsDiv.appendChild(questionDiv);
  });

  // Add Submit Button at the end
  const submitButton = document.createElement("button");
  submitButton.textContent = "Submit Answers";
  submitButton.className = "submit-btn";
  submitButton.onclick = () => checkAnswers(week);
  questionsDiv.appendChild(submitButton);
}

function showAnswer(index) {
  const answerDisplay = document.getElementById(`answer${index}`);
  const correctAnswer = quizData[weekTitle.textContent][index].answer;
  answerDisplay.textContent = `Correct Answer: ${correctAnswer}`;
  answerDisplay.style.display = "block";
}

function checkAnswers(week) {
  quizData[week].forEach((item, index) => {
    const selectedOption = document.querySelector(
      `input[name="q${index}"]:checked`
    );
    const answerDisplay = document.getElementById(`answer${index}`);

    if (selectedOption) {
      if (selectedOption.value === item.answer) {
        answerDisplay.textContent = "Correct ✅";
        answerDisplay.className = "answer correct";
      } else {
        answerDisplay.textContent = `Incorrect ❌ (Correct: ${item.answer})`;
        answerDisplay.className = "answer incorrect";
      }
    } else {
      answerDisplay.textContent = "No answer selected ❌";
      answerDisplay.className = "answer incorrect";
    }

    answerDisplay.style.display = "block";
  });

  // Disable all options after submission
  document.querySelectorAll("input[type=radio]").forEach((input) => {
    input.disabled = true;
  });
}
